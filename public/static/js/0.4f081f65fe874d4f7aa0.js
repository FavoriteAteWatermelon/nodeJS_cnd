webpackJsonp([0],{"19Sw":function(t,e){},"4dVL":function(t,e){t.exports={name:"vue-img-cutter",version:"2.1.10",description:"A image crop plug-in for Vue,you can use it to rotate、zoom images and cut any size",author:"acccccccb <tabzhang@foxmail.com>",private:!1,scripts:{dev:"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",start:"npm run dev",build:"node build/build.js"},dependencies:{vue:"^2.5.2"},devDependencies:{autoprefixer:"^7.1.2","babel-core":"^6.22.1","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-loader":"^7.1.1","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-runtime":"^6.22.0","babel-plugin-transform-vue-jsx":"^3.5.0","babel-preset-env":"^1.3.2","babel-preset-stage-2":"^6.22.0",chalk:"^2.0.1","copy-webpack-plugin":"^4.0.1","css-loader":"^0.28.0","extract-text-webpack-plugin":"^3.0.0","file-loader":"^1.1.4","friendly-errors-webpack-plugin":"^1.6.1","html-webpack-plugin":"^2.30.1","js-yaml":"^3.13.1",lodash:"^4.17.15",mem:"^6.0.0","mixin-deep":"^2.0.1","node-notifier":"^5.1.2","optimize-css-assets-webpack-plugin":"^3.2.0",ora:"^1.2.0",portfinder:"^1.0.13","postcss-import":"^11.0.0","postcss-loader":"^2.0.8","postcss-url":"^7.2.1",rimraf:"^2.6.0",semver:"^5.3.0","set-value":"^3.0.1",shelljs:"^0.7.6","uglifyjs-webpack-plugin":"^1.1.1","url-loader":"^0.5.8","vue-loader":"^13.3.0","vue-style-loader":"^3.0.1","vue-template-compiler":"^2.5.2",webpack:"^3.6.0","webpack-bundle-analyzer":"^2.13.1","webpack-dev-server":"^2.11.5","webpack-merge":"^4.1.0"},engines:{node:">= 6.0.0",npm:">= 3.0.0"},browserslist:["> 1%","last 2 versions","not ie <= 8"],main:"./src/index.js",repository:{type:"git",url:"git+https://github.com/acccccccb/vue-img-cutter.git"},keywords:["image","crop","cutter","vue","裁剪"],license:"Apache2.0",bugs:{url:"https://github.com/acccccccb/vue-img-cutter/issues"},homepage:"https://ihtmlcss.com/demo/dist/#/croptool",__npminstall_done:"Wed Oct 14 2020 15:02:46 GMT+0800 (GMT+08:00)",_from:"vue-img-cutter@2.1.10",_resolved:"https://registry.npm.taobao.org/vue-img-cutter/download/vue-img-cutter-2.1.10.tgz"}},"9Vkk":function(t,e,o){"use strict";var i=o("4YfN"),a=o.n(i),s=o("hRKE"),n=o.n(s),r=o("4dVL"),l=o.n(r),h={name:"ImgCutter",props:{crossOrigin:{type:Boolean,default:!1,required:!1},crossOriginHeader:{type:String,default:"*",required:!1},label:{type:String,default:"选择图片",required:!1},isModal:{type:Boolean,default:!0,required:!1},lockScroll:{type:Boolean,default:!0,required:!1},showChooseBtn:{type:Boolean,default:!0,required:!1},boxWidth:{type:Number,default:800,required:!1},boxHeight:{type:Number,default:400,required:!1},cutWidth:{type:Number,default:200,required:!1},cutHeight:{type:Number,default:200,required:!1},rate:{type:String,default:null,required:!1},tool:{type:Boolean,default:!0,required:!1},toolBgc:{type:String,default:"#fff",required:!1},sizeChange:{type:Boolean,default:!0,required:!1},originalGraph:{type:Boolean,default:!1,required:!1},moveAble:{type:Boolean,default:!0,required:!1},CuttingOriginal:{type:Boolean,default:!1,required:!1},WatermarkText:{type:String,default:"",required:!1},WatermarkTextFont:{type:String,default:"12px Sans-serif",required:!1},WatermarkTextColor:{type:String,default:"#fff",required:!1},WatermarkTextX:{type:Number,default:.95,required:!1},WatermarkTextY:{type:Number,default:.95,required:!1},smallToUpload:{type:Boolean,default:!1,required:!1},saveCutPosition:{type:Boolean,default:!1,required:!1},scaleAble:{type:Boolean,default:!0,required:!1},DoNotDisplayCopyright:{type:Boolean,default:!1,required:!1}},model:["label","boxWidth","boxHeight","rate","tool","DoNotDisplayCopyright"],data:function(){return{version:"",visible:!1,fileName:"",cutImageObj:null,onPrintImgTimmer:null,toolBoxPosition:{x:0,y:0},drawImg:{img:null,sx:0,sy:0,swidth:0,sheight:0,x:0,y:0,width:0,height:0},toolBox:{disable:!0,width:this.boxWidth/2,height:this.boxHeight/2,x:0,y:0,boxMove:{start:{x:0,y:0},moveTo:{x:0,y:0}}},dropImg:{active:!1,pageX:0,pageY:0,params:{}},rotateImg:{angle:0},rotateControl:{active:!1,start:{x:0,y:0},position:100},scaleImg:{rate:0,params:{}},controlBox:{disable:!0,btnName:"",start:{x:0,y:0,width:0,height:0}},selectBox:!1,selectBoxColor:"rgba(0,0,0,0.6)",isFlipHorizontal:!1,isFlipVertically:!1}},mounted:function(){var t=this;this.version=l.a.version,!1===this.isModal&&(this.visible=!0,this.$nextTick(function(){t.$refs.toolBox.onmousewheel=t.scaleImgWheel,t.$refs.toolBox.addEventListener("DOMMouseScroll",t.scaleImgWheel)}))},methods:{handleOpen:function(t){var e=this,o=this,i=function(t){if(o.$refs.toolBox.onmousewheel=e.scaleImgWheel,o.$refs.toolBox.addEventListener("DOMMouseScroll",e.scaleImgWheel),!0===o.isModal){!0===o.lockScroll&&(document.body.style.overflowY="hidden");var i=o.$refs.dialogMainModalRef.offsetHeight+200,a=window.innerHeight,s=o.$refs.mask;s.style.overflowY=i>a?"scroll":"hidden"}t&&"function"==typeof t&&t()};if(t&&"object"==(void 0===t?"undefined":n()(t))&&t.src){if(!t.name)throw new Error("传入参数必须包含：src,name");var a=new Image;!0===this.crossOrigin&&(a.crossOrigin=this.crossOriginHeader),a.name=t.name,a.style.position="fixed",a.style.top=-5e3,a.style.opacity=0,a.onerror=function(t){console.error("图片加载失败"),o.$emit("error",{event:t,msg:"图片加载失败"}),o.clearCutImageObj()},a.onload=function(){if(!0!==a.complete)throw new Error("图片加载失败");o.visible=!0,o.$nextTick(function(){i(function(){o.importImgToCanv(a)})})},a.src=t.src,this.cutImageObj=a,document.body.appendChild(a),this.$emit("onChooseImg",t)}else o.visible=!0,o.$nextTick(function(){i()})},handleClose:function(){var t=this;this.clearAll(),!0===this.isModal&&(!0===this.lockScroll&&(document.body.style.overflowY="scroll"),this.$nextTick(function(){t.visible=!1}))},chooseImg:function(){this.$refs.inputFile.click()},importImgToCanv:function(t){this.fileName=t.name;var e=t.height,o=t.width,i=this.boxWidth,s=this.boxHeight,n=void 0,r=a()({},this.drawImg);r.img=t,this.scaleImg.rate=o/e,e<s&&o<i?(n=1,r.x=(i-o)/2,r.y=(s-e)/2):o/e<=i/s?(n=s/e,r.x=(i-o*n)/2):(n=i/o,r.y=(s-e*n)/2),r.swidth=o,r.sheight=e,r.width=o*n,r.height=e*n,r.x=(i-r.width)/2,r.y=(s-r.height)/2,this.$set(this,"drawImg",r),this.printImg(),this.putToolBox()},putImgToCanv:function(t){var e=this,o=void 0;if(!t.target.files)return console.error("IE9及以下需要自己传入image对象"),!1;if(o=t.target.files[0]||null){this.fileName=o.name;var i=new FileReader;new Image,i.readAsDataURL(o),i.onload=function(t){var s=t.target.result,n=document.createElement("img");n.src=s;var r=setInterval(function(){if(2==i.readyState){if(clearInterval(r),!e.sizeChange&&e.smallToUpload&&n.width<=e.cutWidth&&n.height<=e.cutHeight)return e.handleClose(),void e.$emit("cutDown",{filename:o.name,file:o});var t=n.height,s=n.width,l=e.boxWidth,h=e.boxHeight,c=void 0,d=a()({},e.drawImg);d.img=n,e.scaleImg.rate=s/t,t<h&&s<l?(c=1,d.x=(l-s)/2,d.y=(h-t)/2):s/t<=l/h?(c=h/t,d.x=(l-s*c)/2):(c=l/s,d.y=(h-t*c)/2),d.swidth=s,d.sheight=t,d.width=s*c,d.height=t*c,d.x=(l-d.width)/2,d.y=(h-d.height)/2,e.$set(e,"drawImg",d),e.printImg(),e.putToolBox()}},200)},this.$emit("onChooseImg",o)}},putToolBox:function(){this.toolBox.width!==this.boxWidth/2&&this.toolBox.height!==this.boxHeight/2&&!1!==this.saveCutPosition||(this.toolBox.width=this.cutWidth>this.boxWidth?this.boxWidth:this.cutWidth,this.toolBox.height=this.cutHeight>this.boxHeight?this.boxHeight:this.cutHeight),(0===this.toolBox.x&&0===this.toolBox.y||!1===this.saveCutPosition)&&(this.toolBox.x=this.boxWidth/2-this.toolBox.width/2,this.toolBox.y=this.boxHeight/2-this.toolBox.height/2),this.drawControlBox(this.toolBox.width,this.toolBox.height,this.toolBox.x,this.toolBox.y)},isSupportFileApi:function(){return!!(window.File&&window.FileList&&window.FileReader&&window.Blob&&-1===navigator.userAgent.indexOf("Edge")&&-1===navigator.userAgent.indexOf("MSIE")&&-1===navigator.userAgent.indexOf("Trident"))},dataURLtoFile:function(t,e){for(var o=t.split(","),i=o[0].match(/:(.*?);/)[1],a=atob(o[1]),s=a.length,n=new Uint8Array(s);s--;)n[s]=a.charCodeAt(s);return this.isSupportFileApi()?new File([n],e,{type:i}):"不支持File对象"},clearAll:function(){var t=this.$refs.canvas;t.getContext("2d").clearRect(0,0,t.width,t.height);var e=this.$refs.canvasSelectBox;e.getContext("2d").clearRect(0,0,e.width,e.height);var o=this.drawImg.sx,i=this.drawImg.sy;this.drawImg={img:null,sx:o,sy:i,swidth:0,sheight:0,x:0,y:0,width:0,height:0},this.isFlipHorizontal=!1,this.isFlipVertically=!1,this.$refs.inputFile.value="",this.rotateImg.angle=0,this.drawImg.img=null,this.turnReset(),this.clearCutImageObj(),this.$emit("onClearAll")},clearCutImageObj:function(){null!==this.cutImageObj&&void 0!==this.cutImageObj&&("function"==typeof this.cutImageObj.remove?this.cutImageObj.remove():this.cutImageObj.removeNode()),this.cutImageObj=null},drawControlBox:function(t,e,o,i){var a=this;t>this.boxWidth&&(t=this.boxWidth),e>this.boxHeight&&(e=this.boxHeight),o<0&&(o=0),i<0&&(i=0);var s=this.$refs.toolBoxControl,n=this.$refs.canvasSelectBox,r=n.getContext("2d");r.fillStyle=this.selectBoxColor,r.clearRect(0,0,n.width,n.height),r.fillRect(0,0,n.width,n.height);var l=void 0,h=void 0;if(this.rate&&""!==this.rate){var c=this.rate.split(":")[0]/this.rate.split(":")[1];c>=1?(l=t,h=t/c):(l=e*c,h=e)}else l=t,h=e;this.toolBox.width=l,this.toolBox.height=h,s.style.width=Math.abs(l)+"px",s.style.height=Math.abs(h)+"px",this.toolBox.boxMove.moveTo.x=o,this.toolBox.boxMove.moveTo.y=i,l<0&&(o+=l),h<0&&(i+=h),o+this.toolBox.width>this.boxWidth&&(o=this.boxWidth-this.toolBox.width),o<0&&(o=0),i+this.toolBox.height>this.boxHeight&&(i=this.boxHeight-this.toolBox.height),i<0&&(i=0),this.toolBoxPosition.x=o,this.toolBoxPosition.y=i,s.style.left=o+"px",s.style.top=i+"px",r.clearRect(o,i,Math.abs(l),Math.abs(h)),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout(function(){a.cropPicture(!0)},100)},resetToolBox:function(){this.toolBox.width<0&&(this.toolBox.boxMove.moveTo.x=this.toolBox.x-this.toolBox.width),this.toolBox.height<0&&(this.toolBox.boxMove.moveTo.y=this.toolBox.y-this.toolBox.height),this.toolBox.width=Math.abs(this.toolBox.width),this.toolBox.height=Math.abs(this.toolBox.height)},toolBoxMouseDown:function(t){var e=this.$refs.toolBoxControl;this.toolBox.x=parseInt(e.style.left.split("px")[0]),this.toolBox.y=parseInt(e.style.top.split("px")[0]),this.toolBox.disable=!1,this.dropImg.active=!1,this.toolBox.boxMove.start={x:t.pageX,y:t.pageY}},toolBoxMouseMove:function(t){if(this.dropImg.active&&this.dropImgMove(t),!1===this.toolBox.disable&&!0===this.moveAble){var e=t.pageX-this.toolBox.boxMove.start.x,o=t.pageY-this.toolBox.boxMove.start.y,i=this.toolBox.x+e,a=this.toolBox.y+o;this.drawControlBox(this.toolBox.width,this.toolBox.height,i,a)}},toolBoxMouseLeave:function(){var t=this;this.toolBox.disable=!0,this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout(function(){t.cropPicture(!0)},100),this.resetToolBox()},toolBoxMouseUp:function(t){this.toolBox.x=parseInt(this.toolBoxPosition.x),this.toolBox.y=parseInt(this.toolBoxPosition.y),this.toolBox.disable=!0,this.dropImg.active=!1,this.resetToolBox()},printImg:function(){var t=this;if(this.drawImg.img){var e=this.$refs.canvas,o=e.getContext("2d");o.font="18px bold 黑体",o.fillStyle="#ff0",o.textAlign="center",o.textBaseline="middle",o.save(),o.clearRect(0,0,e.width,e.height),o.translate(this.drawImg.x+this.drawImg.width/2,this.drawImg.y+this.drawImg.height/2),o.rotate(this.rotateImg.angle*Math.PI/180),o.translate(-(this.drawImg.x+this.drawImg.width/2),-(this.drawImg.y+this.drawImg.height/2)),o.translate(this.drawImg.x,this.drawImg.y),o.scale(this.isFlipHorizontal?-1:1,this.isFlipVertically?-1:1),o.drawImage(this.drawImg.img,this.drawImg.sx,this.drawImg.sy,this.drawImg.swidth,this.drawImg.sheight,this.isFlipHorizontal?-this.drawImg.width:0,this.isFlipVertically?-this.drawImg.height:0,this.drawImg.width,this.drawImg.height),o.translate(-this.drawImg.x,this.drawImg.y),o.restore(),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout(function(){t.cropPicture(!0)},100)}},dropImgOn:function(t){this.dropImg.active=!0,this.dropImg.params=a()({},this.drawImg),this.dropImg.pageX=t.pageX,this.dropImg.pageY=t.pageY},dropImgOff:function(){var t=this;this.dropImg.active=!1,this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout(function(){t.cropPicture(!0)},100)},dropImgMove:function(t){if(this.dropImg.active&&this.drawImg.img){var e=a()({},this.drawImg);e.x=this.dropImg.params.x-(this.dropImg.pageX-t.pageX),e.y=this.dropImg.params.y-(this.dropImg.pageY-t.pageY),this.$set(this,"drawImg",e),this.printImg(),t.stopPropagation()}},scaleReset:function(){this.drawImg.width=this.drawImg.swidth,this.drawImg.height=this.drawImg.sheight,this.printImg()},scaleImgWheel:function(t){var e=this;if(this.drawImg.img&&!0===this.scaleAble){var o=void 0,i=t||window.event;i.wheelDelta?o=-i.wheelDelta/40:i.detail&&(o=i.detail);this.drawImg.x=this.drawImg.width-9*o>50?this.drawImg.x+3*o:this.drawImg.x,this.drawImg.y=this.drawImg.width-9*o>50?this.drawImg.y+3*o:this.drawImg.y,this.drawImg.width=this.drawImg.width-9*o>50?this.drawImg.width-9*o:50,this.drawImg.height=this.drawImg.width/this.scaleImg.rate,this.printImg(),this.onPrintImgTimmer&&clearTimeout(this.onPrintImgTimmer),this.onPrintImgTimmer=setTimeout(function(){e.cropPicture(!0)},100)}return t.preventDefault(),t.returnValue=!1,!1},flipHorizontal:function(){this.drawImg.img&&(0==this.isFlipHorizontal?this.isFlipHorizontal=!0:this.isFlipHorizontal=!1,this.printImg())},flipVertically:function(){this.drawImg.img&&(0==this.isFlipVertically?this.isFlipVertically=!0:this.isFlipVertically=!1,this.printImg())},turnImg:function(t){var e=this.rotateImg.angle+t;e>=-180&&e<=180&&(this.rotateImg.angle=e,this.rotateControl.position=e/180*100+100,this.printImg("rotate"))},turnReset:function(){this.rotateImg.angle=0,this.rotateControl.position=100,this.printImg("rotate")},controlBtnMouseDown:function(t,e){this.controlBox.disable=!1,this.controlBox.btnName=e,this.controlBox.start.x=t.clientX,this.controlBox.start.y=t.clientY,this.controlBox.start.width=this.toolBox.width,this.controlBox.start.height=this.toolBox.height,t.stopPropagation()},controlBtnMouseUp:function(t){this.controlBox.disable=!0,this.dropImgOff(),this.resetToolBox(),this.toolBoxMouseUp(),t.stopPropagation()},controlBtnMouseMove:function(t){if(!1===this.controlBox.disable){var e=t.clientX-this.controlBox.start.x,o=t.clientY-this.controlBox.start.y,i=void 0,a=void 0;"leftUp"==this.controlBox.btnName&&(i=this.toolBox.x+e,a=this.toolBox.y+o,this.toolBox.width=this.controlBox.start.width-e,this.toolBox.height=this.controlBox.start.height-o),"rightUp"==this.controlBox.btnName&&(i=this.toolBox.x,a=this.toolBox.y+o,this.toolBox.width=this.controlBox.start.width+e,this.toolBox.height=this.controlBox.start.height-o),"rightDown"==this.controlBox.btnName&&(i=this.toolBox.x,a=this.toolBox.y,this.toolBox.width=this.controlBox.start.width+e,this.toolBox.height=this.controlBox.start.height+o),"leftDown"==this.controlBox.btnName&&(i=this.toolBox.x+e,a=this.toolBox.y,this.toolBox.width=this.controlBox.start.width-e,this.toolBox.height=this.controlBox.start.height+o),"topCenter"==this.controlBox.btnName&&(i=this.toolBox.x,a=this.toolBox.y+o,this.toolBox.width=this.controlBox.start.width,this.toolBox.height=this.controlBox.start.height-o),"downCenter"==this.controlBox.btnName&&(i=this.toolBox.x,a=this.toolBox.y,this.toolBox.width=this.controlBox.start.width,this.toolBox.height=this.controlBox.start.height+o),"leftCenter"==this.controlBox.btnName&&(i=this.toolBox.x+e,a=this.toolBox.y,this.toolBox.width=this.controlBox.start.width-e,this.toolBox.height=this.controlBox.start.height),"rightCenter"==this.controlBox.btnName&&(i=this.toolBox.x,a=this.toolBox.y,this.toolBox.width=this.controlBox.start.width+e,this.toolBox.height=this.controlBox.start.height),this.drawControlBox(this.toolBox.width,this.toolBox.height,i,a)}t.stopPropagation()},cropPicture:function(t){var e=this;if(this.drawImg.img){var o=this.$refs.canvas;if(this.WatermarkText&&!t){var i=o.getContext("2d");i.font=this.WatermarkTextFont,i.fillStyle=this.WatermarkTextColor,i.textAlign="right",i.textBaseline="bottom",i.fillText(this.WatermarkText,this.toolBox.x+this.toolBox.width*this.WatermarkTextX,this.toolBox.y+this.toolBox.height*this.WatermarkTextY)}var a=new Image;!0===this.crossOrigin&&(a.crossOrigin=this.crossOriginHeader),a.src=o.toDataURL(),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,i){window.atob?setTimeout(function(){for(var a=atob(o.toDataURL(e,i).split(",")[1]),s=a.length,n=new Uint8Array(s),r=0;r<s;r++)n[r]=a.charCodeAt(r);t(new Blob([n],{type:e||"image/png"}))},200):t(!1,{type:"image/png"})}}),o.toBlob(function(o){if(o){var i=new FileReader;i.readAsDataURL(o),i.onload=function(){var o=setInterval(function(){if(2==i.readyState){clearInterval(o);var s=document.createElement("canvas"),n=s.getContext("2d");if(1==e.originalGraph){var r=e.drawImg.width/e.drawImg.swidth,l=e.toolBox.width/r,h=e.toolBox.height/r;s.width=l,s.height=h;var c=(e.toolBox.x-e.drawImg.x)/r,d=(e.toolBox.y-e.drawImg.y)/r,g=e.drawImg.swidth,u=e.drawImg.sheight;n.translate(-c,-d),n.drawImage(e.drawImg.img,0,0,g,u)}else{s.width=e.toolBox.width,s.height=e.toolBox.height;var m=e.toolBox;if(e.rate){var p=e.rate.split(":")[0]/e.rate.split(":")[1];e.rate.split(":")[0]>=e.rate.split(":")[1]?n.drawImage(a,m.x,m.y,m.width,m.width*p,0,0,m.width,m.width*p):n.drawImage(a,m.x,m.y,m.width,m.width/p,0,0,m.width,m.width/p)}else n.drawImage(a,m.x,m.y,m.width,m.height,0,0,m.width,m.height)}s.toBlob(function(o){t?e.$emit("onPrintImg",{fileName:e.fileName,blob:o,file:e.dataURLtoFile(s.toDataURL(),e.fileName),dataURL:s.toDataURL()}):(e.handleClose(),e.$emit("cutDown",{fileName:e.fileName,blob:o,file:e.dataURLtoFile(s.toDataURL(),e.fileName),dataURL:s.toDataURL()}))},"image/jpeg",.95)}},200)}}else{var s=document.createElement("canvas");s.width=e.toolBox.width,s.height=e.toolBox.height;var n=s.getContext("2d"),r=e.toolBox;if(e.rate){var l=e.rate.split(":")[0]/e.rate.split(":")[1];n.drawImage(a,r.x,r.y,r.width,r.width*l,0,0,r.width,r.width*l)}else n.drawImage(a,r.x,r.y,r.width,r.height,0,0,r.width,r.height);t?e.$emit("onPrintImg",{fileName:e.fileName,dataURL:s.toDataURL()}):(e.handleClose(),e.$emit("cutDown",{fileName:e.fileName,dataURL:s.toDataURL()}))}})}else t||(console.warn("No picture selected"),e.$emit("error",{err:1,msg:"No picture selected"}))},scrollBarControlMove:function(t){if(this.rotateControl.active){var e=t.pageX-this.rotateControl.start.x,o=this.rotateControl.start.position+e;o<=0&&(o=0),o>=200&&(o=200),this.rotateControl.position=o,this.rotateImg.angle=(o-100)/100*180,this.printImg()}},scrollBarControlOn:function(t){this.rotateControl.active=!0,this.rotateControl.start.x=t.pageX,this.rotateControl.start.y=t.pageY,this.rotateControl.start.position=this.rotateControl.position},scrollBarControlOff:function(){this.rotateControl.active=!1}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[!0===t.showChooseBtn&&!0===t.isModal?o("div",{on:{click:t.handleOpen}},[t._t("openImgCutter"),t._v(" "),t._t("open")],2):t._e(),t._v(" "),t.$slots.openImgCutter||t.$slots.open||!0!==t.isModal?t._e():o("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.handleOpen}},[t._v(t._s(t.label))]),t._v(" "),o("transition",{attrs:{name:"fade"}},[t.visible?o("div",{ref:"mask",class:!0===t.isModal?"mask vue-img-cutter":""},[t.visible?o("div",{class:!0===t.isModal?"dialogBoxModal":"dialogBox"},[o("transition",{attrs:{name:"fade","enter-class":"fade-in-enter","enter-active-class":"fade-in-active","leave-class":"fade-out-enter","leave-active-class":"fade-out-active"}},[o("div",{ref:"dialogMainModalRef",class:!0===t.isModal?"dialogMainModal":"dialogMain",style:"width:"+(!0===t.isModal?t.boxWidth+32:t.boxWidth)+"px"},[o("div",{staticClass:"toolMain"},[!0===t.isModal?o("div",{staticClass:"tool-title"},[t._v("\n                图片裁剪\n                "),o("span",{staticClass:"closeIcon",on:{click:t.handleClose}},[t._v("×")])]):t._e(),t._v(" "),o("div",{ref:"toolBox",staticClass:"toolBox",style:"height:"+t.boxHeight+"px;width:"+t.boxWidth+"px",on:{mousemove:t.controlBtnMouseMove,mouseup:t.controlBtnMouseUp,mouseleave:t.controlBtnMouseUp}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.drawImg.img&&!0===t.showChooseBtn,expression:"!drawImg.img && showChooseBtn===true"}],staticClass:"tips"},[o("div",{staticClass:"btn btn-warning btn-xs",on:{click:t.chooseImg}},[t._v(t._s(t.label))])]),t._v(" "),1==t.tool?o("div",{directives:[{name:"show",rawName:"v-show",value:this.drawImg.img&&!0!==t.dropImg.active&&1==t.controlBox.disable&&1==t.toolBox.disable,expression:"this.drawImg.img && dropImg.active!==true && controlBox.disable==true && toolBox.disable==true"}],staticClass:"dockMain",style:"background:"+this.toolBgc,on:{mouseenter:t.dropImgOff}},[t.rate?o("div",{staticClass:"dockBtn"},[t._t("ratio",[t._v("\n                      Ratio:\n                    ")]),t._v("\n                    "+t._s(t.rate)+"\n                  ")],2):t._e(),t._v(" "),o("div",{staticClass:"dockBtn",on:{click:t.scaleReset}},[t._t("scaleReset",[t._v("\n                      Scale:\n                    ")]),t._v("\n                    "+t._s(t.drawImg.swidth>0?(t.drawImg.width/t.drawImg.swidth).toFixed(2):"-")+"\n                  ")],2),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnImg(-90)}}},[t._t("turnLeft",[t._v("\n                      ↳\n                    ")])],2):t._e(),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnImg(90)}}},[t._t("turnRight",[t._v("\n                      ↲\n                    ")])],2):t._e(),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:function(e){return t.turnReset()}}},[t._t("reset",[t._v("\n                      ↻\n                    ")])],2):t._e(),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtnScrollBar"},[o("div",{ref:"dockBtnScrollControl",staticClass:"scrollBarControl",style:"left:"+t.rotateControl.position+"px",on:{mousemove:t.scrollBarControlMove,mousedown:t.scrollBarControlOn,mouseleave:t.scrollBarControlOff,mouseup:t.scrollBarControlOff}}),t._v(" "),1==t.rotateControl.active?o("div",{staticClass:"scrollBarText",style:"left:"+t.rotateControl.position+"px"},[t._v("\n                      "+t._s(t.rotateImg.angle.toFixed(0)+"°")+"\n                    ")]):t._e()]):t._e(),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:t.flipHorizontal}},[t._t("flipHorizontal",[t._v("\n                      ⇆\n                    ")])],2):t._e(),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"dockBtn",on:{click:t.flipVertically}},[t._t("turnRight",[t._v("\n                      ⇅\n                    ")])],2):t._e()]):t._e(),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.drawImg.img,expression:"drawImg.img!=null"}],ref:"toolBoxControl",staticClass:"toolBoxControl",on:{mousedown:t.toolBoxMouseDown,mouseup:t.toolBoxMouseUp,mousemove:t.toolBoxMouseMove,mouseleave:t.toolBoxMouseLeave}},[o("div",{staticClass:"toolBoxControlBox"},[o("div",{staticClass:"controlBox"},[o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineTop"}),t._v(" "),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineBottom"}),t._v(" "),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineLeft"}),t._v(" "),o("div",{staticClass:"controlBoxInnerLine controlBoxInnerLineRight"}),t._v(" "),!1===t.originalGraph?o("div",{staticClass:"selectArea"},[t._v("\n                        宽:"+t._s(t.toolBox.width)+" 高:"+t._s(t.toolBox.height)+"\n                        (x:"+t._s(t.toolBoxPosition.x)+",y:"+t._s(t.toolBoxPosition.y)+")\n                      ")]):t._e(),t._v(" "),!0===t.originalGraph?o("div",{staticClass:"selectArea"},[t._v("\n                        宽:"+t._s((t.toolBox.width/(t.drawImg.width/t.drawImg.swidth)).toFixed(0))+" 高:"+t._s((t.toolBox.height/(t.drawImg.width/t.drawImg.swidth)).toFixed(0))+"\n                        (x:"+t._s(t.toolBoxPosition.x)+",y:"+t._s(t.toolBoxPosition.y)+")\n                      ")]):t._e(),t._v(" "),!0===t.sizeChange?o("div",{staticClass:"leftUp controlBtn",attrs:{"data-name":"leftUp"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftUp")}}}):t._e(),t._v(" "),!0===t.sizeChange?o("div",{staticClass:"leftDown controlBtn",attrs:{"data-name":"leftDown"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftDown")}}}):t._e(),t._v(" "),!0===t.sizeChange?o("div",{staticClass:"rightUp controlBtn",attrs:{"data-name":"rightUp"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightUp")}}}):t._e(),t._v(" "),!0===t.sizeChange?o("div",{staticClass:"rightDown controlBtn",attrs:{"data-name":"rightDown"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightDown")}}}):t._e(),t._v(" "),!0===t.sizeChange&&!t.rate&&this.toolBox.width>20?o("div",{staticClass:"topCenter controlBtn",attrs:{"data-name":"topCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"topCenter")}}}):t._e(),t._v(" "),!0===t.sizeChange&&!t.rate&&this.toolBox.width>20?o("div",{staticClass:"downCenter controlBtn",attrs:{"data-name":"downCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"downCenter")}}}):t._e(),t._v(" "),!0===t.sizeChange&&!t.rate&&this.toolBox.height>20?o("div",{staticClass:"leftCenter controlBtn",attrs:{"data-name":"leftCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"leftCenter")}}}):t._e(),t._v(" "),!0===t.sizeChange&&!t.rate&&this.toolBox.height>20?o("div",{staticClass:"rightCenter controlBtn",attrs:{"data-name":"rightCenter"},on:{mousedown:function(e){return t.controlBtnMouseDown(e,"rightCenter")}}}):t._e()]),t._v(" "),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-1"}),t._v(" "),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-2"}),t._v(" "),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-3"}),t._v(" "),o("div",{staticClass:"toolBoxControlLine toolBoxControlLineItem-4"})])]),t._v(" "),o("div",{staticClass:"copyright"},[t.DoNotDisplayCopyright?t._e():o("a",{attrs:{target:"_blank",href:"https://github.com/acccccccb/vue-img-cutter",rel:"nofollow"}},[t._v("vue-img-cutter "+t._s(t.version))])]),t._v(" "),o("canvas",{ref:"canvasSelectBox",staticClass:"canvasSelectBox",attrs:{width:t.boxWidth,height:t.boxHeight},on:{mousedown:t.dropImgOn,mouseup:t.dropImgOff,mousemove:t.dropImgMove}}),t._v(" "),o("canvas",{ref:"canvas",staticClass:"canvas",attrs:{width:t.boxWidth,height:t.boxHeight}})])]),t._v(" "),o("div",{staticClass:"i-dialog-footer"},[o("input",{ref:"inputFile",staticStyle:{width:"1px",height:"1px",border:"none",opacity:"0"},attrs:{type:"file",accept:"image/gif, image/jpeg ,image/png"},on:{change:t.putImgToCanv}}),t._v(" "),o("span",{on:{click:t.chooseImg}},[t._t("choose",[!0===t.showChooseBtn?o("div",{staticClass:"btn btn-primary btn-primary-plain"},[t._v(t._s(t.label))]):t._e()])],2),t._v(" "),o("div",{staticClass:"btn-group fr"},[o("span",{on:{click:t.handleClose}},[t._t("cancel",[o("button",{staticClass:"btn btn-default",attrs:{type:"button"}},[t._v("取消")])])],2),t._v(" "),o("span",{on:{click:function(e){return t.cropPicture(!1)}}},[t._t("confirm",[o("button",{staticClass:"btn btn-primary",staticStyle:{"margin-left":"15px"},attrs:{type:"button",disabled:!t.drawImg.img}},[t._v("确定")])])],2)])])])]),t._v(" "),o("div",{staticStyle:{clear:"both"}})],1):t._e()]):t._e()])],1)},staticRenderFns:[]};var d=o("C7Lr")(h,c,!1,function(t){o("f1Nb")},"data-v-b09dcefa",null).exports;e.a=d},HjG9:function(t,e,o){"use strict";var i={props:{tableType:{type:String,defatult:""},pictLoading:{type:Boolean,default:!1},tableData:{type:Array,default:function(){return[]}},tableBarList:{type:Array,default:function(){return[]}}},methods:{exportExcel:function(t,e,i){var a=this;this.tableData.length?o.e(5).then(o.bind(null,"zWO4")).then(function(o){var s=a.tableData,n=a._formatJson(e,s);o.export_json_to_excel({header:t,data:n,filename:i})}):this.$message({message:"Please select at least one item",type:"warning"})},_formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})}}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:this.pictLoading,expression:"pictLoading"}],staticStyle:{width:"100%"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中","element-loading-spinner":"el-icon-loading",stripe:!0,border:!0,data:this.tableData,"highlight-current-row":""}},this._l(this.tableBarList,function(t,o){return e("el-table-column",{key:o,attrs:{type:t.type,property:t.property,label:t.label,width:t.width}})}),1)},staticRenderFns:[]};var s=o("C7Lr")(i,a,!1,function(t){o("19Sw")},"data-v-cb3c2daa",null);e.a=s.exports},PSPz:function(t,e,o){"use strict";var i={props:{total:{type:Number,default:0}},methods:{_handleCurrentChange:function(t){this.$emit("handleCurrentChange",t)},_handleSizeChange:function(t){this.$emit("handleSizeChange",t)}}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("el-pagination",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{"page-sizes":[10,20,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":this._handleSizeChange,"current-change":this._handleCurrentChange}})},staticRenderFns:[]};var s=o("C7Lr")(i,a,!1,function(t){o("nN7r")},"data-v-507fe0ea",null);e.a=s.exports},Ypfc:function(t,e){},f1Nb:function(t,e){},"ms//":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("4YfN"),a=o.n(i),s=o("aA9S"),n=o.n(s),r=o("a3Yh"),l=o.n(r),h=o("PSPz"),c=o("HjG9"),d=o("9Vkk"),g=o("rVsN"),u=o.n(g),m=o("T452"),p=o("xjP8"),x=o("vLgD"),v={headers:{"Content-Type":"multipart/form-data"}};function f(t){return new u.a(function(e,o){x.a.post(p.a+m.a,t,v).then(function(t){console.log(t),e(t)}).catch(function(t){o(t),console.log(t)})})}var w=o("xT6B");let b;const B=(t,e)=>{"ie"==(()=>{let t=window.navigator.userAgent;return t.indexOf("MSIE")>=0?"ie":t.indexOf("Firefox")>=0?"Firefox":t.indexOf("Chrome")>=0?"Chrome":t.indexOf("Opera")>=0?"Opera":t.indexOf("Safari")>=0?"Safari":void 0})()?y(t,e):I(t,e)},y=(t,e)=>{let o=t,i=new ActiveXObject("Excel.Application"),a=i.Workbooks.Add(),s=a.Worksheets(1),n=document.body.createTextRange();n.moveToElementText(o),n.select,n.execCommand("Copy"),s.Paste(),i.Visible=!0;try{let t=i.Application.GetSaveAsFilename("Excel.xls","Excel Spreadsheets (*.xls), *.xls")}catch(t){print("Nested catch caught "+t)}finally{a.SaveAs(t),a.Close(savechanges=!1),i.Quit(),i=null,window.setInterval("Cleanup();",1),b=window.setInterval("Cleanup();",1)}},I=(t,e)=>{const o="data:application/vnd.ms-excel;base64,"+(C=((t,e)=>t.replace(/{(\w+)}/g,(t,o)=>e[o]))('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',{worksheet:e,table:t}),window.btoa(unescape(encodeURIComponent(C))));if(navigator.userAgent.indexOf("Firefox")>-1)window.location.href=o;else{const t=document.createElement("a");let i;t.href=o,t.download=e||"",window.MouseEvent?i=new MouseEvent("click"):(i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}};var C;var _=(t,e,o)=>{const i={image:function(t,e){return`<td style="width: ${(e=Object.assign({width:40,height:60},e)).width}px; height: ${e.height}px; text-align: center; vertical-align: middle"><img src="${t}" width=${e.width} height=${e.height}></td>`},text:function(t){return`<td style="text-align: center">${t}</td>`}};let a=t.reduce((t,e)=>t+=`<th>${e.title}</th>`,"");a=`<thead><tr>${a}</tr></thead>`;let s=e.reduce((e,o)=>e+=`<tr>${t.reduce((t,e)=>t+=i[e.type||"text"](o[e.key],e),"")}</tr>`,"");B(a+(s=`<tbody>${s}</tbody>`),o)},k=o("fUgm"),D={data:function(){var t;return t={imgUrl1:"",imgUrl2:"",dialogVisible:!1,issue:{stack:"",happenDate:new Date,line:"",machineNum:"",barcode:"",description:"",user:"",imgUrl:"",imgUrlRes:""},valueDate:"",value:""},l()(t,"dialogVisible",!1),l()(t,"coverVal",""),l()(t,"options",[{label:"A2A",value:"A2A"},{label:"A2B",value:"A2B"}]),l()(t,"coverOptions",[{label:"可Cover",value:"normalleave"},{label:"不可Cover",value:"errorleave"}]),l()(t,"pictLoading",!1),l()(t,"tableData",[]),l()(t,"currentPage",1),l()(t,"pageSize",10),l()(t,"userNum",""),l()(t,"startDate",""),l()(t,"total",0),l()(t,"endDate",""),l()(t,"tableBarList",[{label:"序號",width:"50px",type:"index"},{property:"line",label:"線別"},{property:"stack",label:"站別"},{property:"machineNum",label:"機種"},{property:"barcode",label:"條碼"},{property:"imgUrl",label:"模擬圖"},{property:"imgUrlRes",label:"結果圖"},{property:"description",label:"描述"},{property:"user",label:"人員"},{property:"happenDate",label:"異常發生時間"}]),l()(t,"pickerOptionsStart",{disabledDate:function(t){return t?t.getTime()>Date.now():""}}),l()(t,"pickerOptionsEnd",{disabledDate:function(t){return t?t.getTime()>Date.now():""}}),t},methods:{uploadIssueInfo:function(){var t,e=this;this.isLogin?(t=n()({},this.issue,{username:this.userInfo.username}),new u.a(function(e,o){x.a.post(p.a+m.b,t).then(function(t){console.log(t),e(t)}).catch(function(t){o(t),console.log(t)})})).then(function(t){t.data?"no_exist"===t.data?e.$message({message:"用户名不存在",type:"warning"}):e.$message({message:"上傳成功!",type:"success"}):e.$message({message:"token过期，请重新登录",type:"warning"})}).catch(function(t){console.log(t)}):this.$message({message:"请登录",type:"warning"})},resultImage:function(t){var e=new FormData;e.append("image",t.blob);var o=this;f(e).then(function(t){o.issue.imgUrlRes=t.data.url}),this.imgUrl2=t.dataURL},cutDown:function(t){console.log(t);var e=new FormData;e.append("image",t.blob);var o=this;f(e).then(function(t){o.issue.imgUrl=t.data.url}),this.imgUrl1=t.dataURL},_addItem:function(){this.dialogVisible=!0},changeStart:function(){if(""!==this.startDate&&null!==this.startDate){var t=this;this.pickerOptionsEnd={disabledDate:function(e){if(""!==t.startDate&&null!==t.startDate)return e.getTime()>t.startDate.getTime()+1296e7||e.getTime()<t.startDate.getTime()}}}else this.endDate=""},_search:function(){var t,e,o=this;this.pictLoading=!0,(t=this.pageSize,e=this.currentPage,new u.a(function(o,i){x.a.get(p.a+m.c+"?limit="+t+"&skip="+(e-1)*t).then(function(t){o(t)}).catch(function(t){i(t),console.log(t)})})).then(function(t){t.data.data.forEach(function(t){t.happenDate=Object(w.a)(t.happenDate),t.createDate=Object(w.a)(t.createDate)}),o.tableData=t.data.data,o.total=t.data.total,o.pictLoading=!1})},_exportExcel:function(){this.tableData.length?_([{title:"線別",key:"line",type:"text"},{title:"站別",key:"stack",type:"text"},{title:"機種",key:"machineNum",type:"text"},{title:"條碼",key:"barcode",type:"text"},{title:"模擬圖",key:"imgUrl",type:"image",width:200,height:200},{title:"結果圖",key:"imgUrlRes",type:"image",width:200,height:200},{title:"描述",key:"description",type:"text"},{title:"人員",key:"user",type:"text"},{title:"異常發生時間",key:"happenDate",type:"text"},{title:"創建時間",key:"createDate",type:"text"}],this.tableData,"異常統計表"):this.$message({message:"Please select at least one item",type:"warning"})},handleSizeChange:function(t){this.currentPage=1,this.pageSize=t,this._search()},handleCurrentChange:function(t){this.currentPage=t,this._search()}},mounted:function(){this._search()},computed:a()({},Object(k.d)({isLogin:function(t){return t.isLogin}}),Object(k.b)(["userInfo"])),components:{BasePagination:h.a,DataTable:c.a,ImgCutter:d.a}},T={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[o("div",{staticStyle:{display:"flex"}},[o("span",{staticClass:"title",staticStyle:{"margin-left":"20px"}},[t._v("日期 :")]),t._v(" "),o("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.valueDate,callback:function(e){t.valueDate=e},expression:"valueDate"}})],1),t._v(" "),o("div",[o("el-button",{staticClass:"exportExcel",staticStyle:{"margin-right":"20px","text-align":"right",background:"#77A1D3"},attrs:{type:"primary",icon:"el-icon-download"},on:{click:t._exportExcel}},[t._v("導出Excel")]),t._v(" "),o("el-button",{staticClass:"exportExcel",staticStyle:{"margin-right":"20px","text-align":"right",background:"#20BDFF"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t._addItem}},[t._v("新增issue")]),t._v(" "),o("el-button",{staticStyle:{background:"#3CA55C"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t._search}},[t._v("搜索")])],1)]),t._v(" "),t.tableData.length?o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pictLoading,expression:"pictLoading"}],staticStyle:{width:"100%"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"数据正在加载中","element-loading-spinner":"el-icon-loading",stripe:!0,border:!0,data:t.tableData,"highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",label:"序號",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{property:"line",label:"線別"}}),t._v(" "),o("el-table-column",{attrs:{property:"stack",label:"站別"}}),t._v(" "),o("el-table-column",{attrs:{property:"machineNum",label:"機種"}}),t._v(" "),o("el-table-column",{attrs:{property:"barcode",label:"條碼"}}),t._v(" "),o("el-table-column",{attrs:{property:"imgUrl",label:"模擬圖"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.imgUrl?o("img",{attrs:{src:e.row.imgUrl,"min-width":"70",height:"70"}}):t._e()]}}],null,!1,4284991753)}),t._v(" "),o("el-table-column",{attrs:{property:"imgUrlRes",label:"結果圖"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.imgUrlRes?o("img",{attrs:{src:e.row.imgUrlRes,"min-width":"70",height:"70"}}):t._e()]}}],null,!1,4253453161)}),t._v(" "),o("el-table-column",{attrs:{property:"description",label:"description"}}),t._v(" "),o("el-table-column",{attrs:{property:"user",label:"人員"}}),t._v(" "),o("el-table-column",{attrs:{property:"happenDate",label:"異常發生時間"}}),t._v(" "),o("el-table-column",{attrs:{property:"username",label:"上傳人員"}}),t._v(" "),o("el-table-column",{attrs:{property:"createDate",label:"創建時間"}})],1):t._e(),t._v(" "),t.tableData.length?o("BasePagination",{attrs:{total:t.total},on:{handleCurrentChange:t.handleCurrentChange,handleSizeChange:t.handleSizeChange}}):t._e(),t._v(" "),o("el-dialog",{attrs:{title:"新增異常數據","close-on-click-modal":!1,visible:t.dialogVisible,width:"1200px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[o("div",[o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("線別 :")]),o("el-select",{attrs:{clearable:!0},model:{value:t.issue.line,callback:function(e){t.$set(t.issue,"line",e)},expression:"issue.line"}},t._l(t.options,function(t){return o("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("機種:")]),o("el-input",{staticStyle:{width:"220px"},model:{value:t.issue.machineNum,callback:function(e){t.$set(t.issue,"machineNum",e)},expression:"issue.machineNum"}})],1),t._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("條碼:")]),o("el-input",{staticStyle:{width:"220px"},model:{value:t.issue.barcode,callback:function(e){t.$set(t.issue,"barcode",e)},expression:"issue.barcode"}})],1),t._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("描述:")]),o("el-input",{staticStyle:{width:"220px"},model:{value:t.issue.description,callback:function(e){t.$set(t.issue,"description",e)},expression:"issue.description"}})],1),t._v(" "),o("div",{staticStyle:{"margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("人員:")]),o("el-input",{staticStyle:{width:"220px"},model:{value:t.issue.user,callback:function(e){t.$set(t.issue,"user",e)},expression:"issue.user"}})],1),t._v(" "),o("div",{staticStyle:{display:"flex","margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("站別:")]),o("el-input",{staticStyle:{width:"220px"},model:{value:t.issue.stack,callback:function(e){t.$set(t.issue,"stack",e)},expression:"issue.stack"}})],1),t._v(" "),o("div",{staticStyle:{display:"flex","margin-top":"10px"}},[o("span",{staticClass:"title"},[t._v("日期 :")]),o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.issue.happenDate,callback:function(e){t.$set(t.issue,"happenDate",e)},expression:"issue.happenDate"}})],1)]),t._v(" "),o("div",[o("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[o("ImgCutter",{attrs:{rate:"1:1",label:"點擊模擬圖片"},on:{cutDown:t.cutDown}}),t._v(" "),o("img",{staticStyle:{"margin-top":"20px"},attrs:{src:t.imgUrl1,width:"200px",height:"200px",alt:"模擬圖片"}})],1)]),t._v(" "),o("div",[o("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[o("ImgCutter",{attrs:{rate:"1:1",label:"點擊測試結果圖片"},on:{cutDown:t.resultImage}}),t._v(" "),o("img",{staticStyle:{"margin-top":"20px"},attrs:{src:t.imgUrl2,width:"200px",height:"200px",alt:"測試結果圖片"}})],1)])]),t._v(" "),o("div"),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.uploadIssueInfo}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var S=o("C7Lr")(D,T,!1,function(t){o("Ypfc")},"data-v-e6e34644",null);e.default=S.exports},nN7r:function(t,e){},xT6B:function(t,e,o){"use strict";e.a=function(t){var e=t.indexOf("T"),o=t.indexOf("Z"),i=t.substr(0,e),a=t.substr(e+1,o-e-1),s=i+" "+a,n=28800+(n=(n=(n=new Date(Date.parse(s))).getTime())/1e3);return new Date(1e3*parseInt(n)).toLocaleString().replace(/年|月/g,"-").replace(/日/g," ")}}});
//# sourceMappingURL=0.4f081f65fe874d4f7aa0.js.map